<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js-prac</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="roundContainer">
        <div class="pointsContainer">
            <div class="player">
                <div class="playerPoints">0</div>
                <div class="label">Player</div>
            </div>
            <div class="computer">
                <div class="compPoints">0</div>
                <div class="label">Computer</div>
            </div>
        </div>
        <div class="result"></div>
    </div>
    <div class="playerChoiceContainer">
        <button class="choiceBtn" id="rock">Rock</button>
        <button class="choiceBtn" id="paper">Paper</button>
        <button class="choiceBtn" id="scissors">Scissors</button>

    </div>
    <script>
    
        
        let humanScore = 0;
        let compScore = 0;
        let roundResult = '';
        let totalNumOfRounds = 5;
        let roundCounter = 1;


        function getCompChoice() {
            let randomNum = Math.random() *100;
            // console.log(randomNum);
            if (randomNum >= 0 && randomNum < 33) {
                return "rock";
            }
            else if (randomNum >= 33 && randomNum < 66) {
                return "paper";
            }
            else {
                return "scissors";
            }
        }

        function playRound (humanChoice, compChoice) {

            // draw conditions
            if (humanChoice === compChoice){
                humanScore += 0;
                compScore += 0;
                roundResult = `Your Choice: ${humanChoice}<br>Computer's Choice: ${compChoice}<br>It's a draw.`;

            }   

            //playerWins conditions
            else if (humanChoice === 'rock' && compChoice === "scissors" || humanChoice === 'paper' && compChoice === "rock" 
            || humanChoice === 'scissors' && compChoice === "paper") {
                humanScore += 1;
                compScore += 0;
                roundResult =  `Your Choice: ${humanChoice}<br>Computer's Choice: ${compChoice}<br>You Win! ${humanChoice} beats ${compChoice}.`;
            }

            // playerLoses conditions
            else {
                humanScore += 0;
                compScore += 1;
                roundResult = `Your Choice: ${humanChoice}<br>Computer's Choice: ${compChoice}<br>You Lose! ${compChoice} beats ${humanChoice}.`;
            }
        }

        let playerChoiceContainer = document.querySelector('.playerChoiceContainer');
        playerChoiceContainer.addEventListener('click', (event) => {
            let target = event.target; 
            console.log(target.className);
            if (target.className === 'choiceBtn' && roundCounter <= totalNumOfRounds){

                let humanChoice = target.id;
                let compChoice = getCompChoice();
                playRound(humanChoice,compChoice);
                let playerPoints = document.querySelector('.playerPoints');
                let compPoints = document.querySelector('.compPoints');
                let result = document.querySelector('.result');
                playerPoints.textContent = humanScore;
                compPoints.textContent = compScore;
                result.innerHTML = roundResult;
                roundCounter += 1;

            }

        });
        

        
        function getGameWinner (humanScore,compScore) {
            if (humanScore > compScore) {
                return (`Final Score: \n Player: ${humanScore} \n Computer: ${compScore} \n You won the game!!`);
            }
            else if (humanScore == compScore) {
                return (`Final Score: \n Player: ${humanScore} \n Computer: ${compScore} \n It's a draw!!`);
            }

            else {
                return (`Final Score: \n Player: ${humanScore} \n Computer: ${compScore} \n You lost the game!!`);
            }
        }
        




        
    </script>

</body>
</html>